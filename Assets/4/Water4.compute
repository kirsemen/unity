#pragma kernel CSMain

struct Pixel {
	float2 pos;
	float2 vec;
	int inside;
};

RWStructuredBuffer<Pixel> data;

[numthreads(32, 32, 1)]
void CSMain(uint3 id : SV_DispatchThreadID)
{
	int i = id.x + id.y * 32768;
	if (data[i].inside) {
		data[i].pos += data[id.x].vec;
	}

}
